<!DOCTYPE html>
<html ng-controller="MainController" ng-cloak>
  <head>
    <title>{{appTitle}}</title>
    <link rel="icon" href="../../favicon.ico">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <script src="https://use.fontawesome.com/b4d71b289b.js"></script>
    <script defer src="../fonts/fontawesome5/light.js"></script>
    <script defer src="../fonts/fontawesome5/regular.js"></script>
    <script defer src="../fonts/fontawesome5/loader.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto:100,300,400,500,700" rel="stylesheet">
    
    <script src="../js/plugins/jquery-3.1.1.slim.min.js"></script>
    <script src="../js/plugins/jquery.min.js"></script>
    <script src="../js/plugins/tether.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/plugins/jquery-ui.min.js"></script>  
    
    <script src="../js/global.js"></script>
    <script type="text/javascript" src="./index.js"></script>
	  <script type="text/javascript" src="./controllers/mainController.js"></script>
    <script type="text/javascript" src="./controllers/loginsController.js"></script>
    <script type="text/javascript" src="./controllers/interactiveController.js"></script>
    <script type="text/javascript" src="./controllers/groupsController.js"></script>
    <script type="text/javascript" src="./controllers/moderationController.js"></script>
    <script type="text/javascript" src="./controllers/settingsController.js"></script>
    <script type="text/javascript" src="./controllers/updatesController.js"></script>
    <script type="text/javascript" src="./controllers/creditsController.js"></script>
    <script type="text/javascript" src="./services/boardService.js"></script>
    <script type="text/javascript" src="./services/settingsService.js"></script>
    <script type="text/javascript" src="./services/groupsService.js"></script>
    <script type="text/javascript" src="./services/eventLogService.js"></script>
    <script type="text/javascript" src="./services/settingsService.js"></script>
    <script type="text/javascript" src="./services/utilityService.js"></script>
    <script type="text/javascript" src="./services/listenerService.js"></script>
    <script type="text/javascript" src="./services/connectionService.js"></script>
    <script type="text/javascript" src="./services/soundService.js"></script>
    <script type="text/javascript" src="./services/effectHelperService.js"></script>
    <script type="text/javascript" src="./directives/effectOptions.js"></script>
    
    
    <script src="../js/interactive/handler/celebrationHandler.js"></script>
    <script src="../js/interactive/handler/mediaHandler.js"></script>
    <script src="../js/interactive/handler/htmlHandler.js"></script>
      
    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../css/main.css" rel="stylesheet">
  </head>
  <body>
    <div class="fb-nav" ng-class="{'contracted': !navExpanded}">
      <div class="nav-header" >
        <img class="nav-header-icon" ng-class="{'contracted': !navExpanded}" src="../images/logo_transparent.png">      
        <span class="nav-header-title" ng-class="{'contracted': !navExpanded}">Firebot</span>
        <span ng-hide="navExpanded" class="nav-expand-button" ng-class="{'contracted': !navExpanded}" ng-click="toggleNav()">
          <i class="fal-angle-right"></i>
        </span>
        <span ng-show="navExpanded" class="nav-expand-button" ng-class="{'contracted': !navExpanded}" ng-click="toggleNav()">
          <i class="fal-angle-left"></i>
        </span>
      </div>
      <div class="nav-links-wrapper">
        <a class="fb-nav-link" href="#" ng-class="{'selected': tabIsSelected('Logins')}" ng-click="setTab('Logins')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon" stlye="padding-bottom: 3px;"><i class="fal-sign-in"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Logins</div>
        </a>
        <a class="fb-nav-link" href="#!interactive" ng-class="{'selected': tabIsSelected('Interactive')}" ng-click="setTab('Interactive')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon"><i class="fal-gamepad"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Interactive</div>
        </a>
        <a class="fb-nav-link" href="#!groups" ng-class="{'selected': tabIsSelected('Groups')}" ng-click="setTab('Groups')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon"><i class="fal-user"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Viewer Groups</div>
        </a>
        <a class="fb-nav-link" href="#!moderation" ng-class="{'selected': tabIsSelected('Moderation')}" ng-click="setTab('Moderation')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon"><i class="fal-bullhorn"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Moderation</div>
        </a>
        <a class="fb-nav-link" href="#!settings" ng-class="{'selected': tabIsSelected('Settings')}" ng-click="setTab('Settings')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon"><i class="fal-cog"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Settings</div>
        </a>
        <a class="fb-nav-link" href="#!updates" ng-class="{'selected': tabIsSelected('Updates')}" ng-click="setTab('Updates')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon"><i class="fal-download"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Updates</div>
        </a>
        <a class="fb-nav-link" href="#!credits" ng-class="{'selected': tabIsSelected('Credits')}" ng-click="setTab('Credits')">
          <div class="nav-link-bar"></div>
          <div class="nav-link-icon"><i class="fa fa-github-alt"></i></div>
          <div class="nav-link-title" ng-class="{'contracted': !navExpanded}">Credits</div>
        </a>
      </div>
      <div class='interactive-status-wrapper'>
       <div class="interative-status-icon" 
            ng-class="{'contracted': !navExpanded, 'connected': connService.connectedToInteractive}" 
            uib-tooltip-template="'connectTooltipTemplate.html'" 
            tooltip-placement="{{navExpanded ? 'top' : 'right'}}"
            ng-click="connService.toggleConnectionToInteractive()"
            ng-hide="connService.waitingForStatusChange">
         <i class="fal-power-off"></i>
       </div>
       <div class="interative-status-icon" 
            style="color:white;" 
            ng-show="connService.waitingForStatusChange"
            uib-tooltip="{{getConnectionMessage()}}" 
            tooltip-placement="{{navExpanded ? 'top' : 'right'}}">
         <i class="fa fa-spin"><i class="fal-sync"></i></i>
       </div>
       <div class="interative-status-title" ng-class="{'contracted': !navExpanded}">
         <span>Interactive Status:</span>
       </div>
       <div class="interative-status-subtitle" ng-class="{'contracted': !navExpanded}">
         <span>{{getConnectionMessage()}}</span>
       </div>
      </div>
    </div>  
    <div class="fb-tab-content">
      <div class="tab-header">{{currentTab}}</div>
      <div class="tab-body-wrapper"> 
        <div class="tab-body">
          <!-- angular templating -->
          <!-- this is where tab content will be injected -->
          <div ng-view style="width: 100%"></div>
        </div>
      </div>
    </div>
    
    <!-- Error Modal -->
    <script type="text/ng-template" id="errorModal.html">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close" ng-click="dismiss()"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="errorLabel">Error</h4>
      </div>
      <div class="modal-body">
        <p>{{message}}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="close()">Close</button>
      </div>
    </script>
    
    <!-- Tooltip template -->
    <script type="text/ng-template" id="connectTooltipTemplate.html">
      <span ng-if="!navExpanded">
          <b>Status:</b> {{connService.connectedToInteractive ? 'Connected' : 'Disconnected'}}
          </br></br>
      </span>
      <span ng-if="connService.connectedToInteractive">
        <span><b>Connected Board:</b></span>
        </br> 
        <span>{{connService.connectedBoard}}</span>
        </br></br>
      </span>
      <span>Click or press Ctrl + Alt + F12 to toggle.</span>
    </script>
  </body>
</html>
