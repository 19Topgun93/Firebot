<div style="min-width: 800px;">
    <div style="padding: 15px;">
        <div>
            <div style="margin: 0 0 25px;display: flex;flex-direction: row;justify-content: space-between;">
                <button ng-click="vs.updateViewers();" class="btn btn-default"><i class="far fa-sync"></i> Refresh</button>
                <searchbar placeholder-text="Search viewers..." query="viewerSearch" style="flex-basis: 250px;"></searchbar>
            </div>
            <table class="fb-table-alt" style="width:100%;">
                <thead>
                  <tr style="font-size: 11px;">
                    <th style="width: 50px;"></th>
                    <th ng-repeat="header in headers" ng-click="setOrderField(header.dataField)" ng-class="{'selected': isOrderField(header.dataField)}" ng-style="header.styles">
                        <i class="fas" ng-class="header.icon"></i>
                        <span style="margin: 0 2px;">{{header.name}}</span>
                        <span style="display:inline-block; width: 11px;">
                            <i ng-show="isOrderField(header.dataField)" class="fal" ng-class="{'fa-arrow-to-bottom': !order.reverse,'fa-arrow-to-top': order.reverse}"></i>
                        </span>     
                    </th>
                    <th style="width: 15px;"></th>
                  </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="viewer in filtered = (vs.viewers | filter:viewerSearch | orderBy:dynamicOrder:order.reverse) | startFrom:(pagination.currentPage-1)*pagination.pageSize | limitTo:pagination.pageSize as visible track by viewer._id" class="viewer-row selectable" 
                        ng-click="showUserDetailsModal(viewer._id)">
                        <td><img ng-src="https://mixer.com/api/v1/users/{{viewer._id}}/avatar?w=50&h=50" style="width: 25px;height: 25px;border-radius: 25px;"/></td>
                        <td>{{viewer.username}}</td>
                        <td>{{viewer.joinDate | prettyDate}}</td>
                        <td>{{viewer.lastSeen | prettyDate}}</td>
                        <td>{{getViewTimeDisplay(viewer.minutesInChannel)}}</td>
                        <td>{{viewer.mixplayInteractions}}</td>
                        <td>{{viewer.chatMessages}}</td>
                        <td ng-repeat="currency in currencies">{{viewer.currency[currency.id]}}</td>
                        <td style="width: 15px;"><i class="fal fa-chevron-right"></i></td>
                    </tr>
                </tbody>
              </table>
              <div ng-show="vs.viewers.length < 1" class="fb-table-row">
                  <span class="muted">No viewer data available yet!</span>
              </div>
              <div style="display: grid;grid-template-columns: repeat(3, 1fr);">
                <div></div>
                <div>
                    <div ng-show="filtered.length > pagination.pageSize" style="text-align: center;">
                        <ul uib-pagination total-items="filtered.length" ng-model="pagination.currentPage" items-per-page="pagination.pageSize" class="pagination-sm" max-size="3" boundary-link-numbers="true" rotate="true" style="margin-top:10px;"></ul>
                    </div>
                </div>
                <div>
                    <div ng-hide="vs.viewers.length < 1" class="muted" style="margin-top: 10px;font-size: 11px;text-align: right;">
                        <span>Showing <strong>{{getRangeMin()}}</strong> - <strong>{{getRangeMax(filtered.length)}}</strong> of <strong>{{vs.viewers.length}}</strong> total viewer(s)</span>
                    </div>
                </div>
              </div>      
        </div>
    </div>
</div>